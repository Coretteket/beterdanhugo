var ans=0,f=!1;function lin(a,b,c,d){f||(-1==d&&(d=999999),day>=c&&day<d&&a==b?(ans=a,f=!0):day>=c&&day<d&&(ans=(b-a)/(d-c)*(day-c)+a,f=!0))}function siMe(a){var b=a[0],c=a[1],d=a[2],e=a[3];return 1==c?1:0<b?(f=!1,lin(1,c,b,b+e),lin(c,c,b+e,-1),ans):0>b?(f=!1,lin(c,d,-b,-b+2*e/3),lin(d,1,-b+2*e/3,-b+e),lin(1,1,-b+e,-1),ans):1}var a={workhome:[0,.95,1,3,3,0],socdis:[0,.95,1,3,4,0],masks:[0,.9,1.1,3,2,0],events:[0,.85,1.4,7,7,0],theater:[0,.9,1.05,7,4,0],gather:[0,.9,1.1,7,7,0],horeca:[0,.85,1.05,7,9,0],clubs:[0,.9,1.5,7,4,0],shops:[0,.85,1.05,7,8,0],edlow:[0,.925,1,7,10,0],edmid:[0,.875,1.2,7,7,0],eduni:[0,.815,1.2,7,5,0],lockdown:[0,.85,1.05,7,15,0],curfew:[0,.925,1.2,7,10,0],border:[0,.95,1.2,7,8,0]},c={jan11warning:[0,1]};function g(b){return!!(0<a[b][0])}var r={death:function(){return f=!1,lin(1,1,0,120),lin(1,.6,120,180),lin(.6,.6,180,-1),ans},underdeath:function(){f=!1,lin(0,.2,0,35),lin(.2,.6,35,45),lin(.6,.6,45,-1);var a=new Date(1e3*(epoch+24*(60*(60*day)))).getDay();return[.679,.699,1.271,1.159,1.041,1.067,1.085][a]*ans},test:function(){return f=!1,lin(0,.015,0,20),lin(.015,.033,20,30),lin(.033,.033,30,45),lin(.033,.044,45,80),lin(.044,.1,80,130),lin(.1,.32,130,150),lin(.32,.32,150,-1),ans},testday:function(){var a=new Date(1e3*(epoch+24*(60*(60*day)))).getDay();return[1.008,.901,.863,.988,1.088,1.092,1.048][a]},season:function(){return .2*Math.cos(2*Math.PI/365*day)+1},scare:function(){return 90>day?.3*(-((day/90-1)**2)+1)+.7:1},hosp:function(){f=!1,lin(.001,.001,0,25),lin(.001,.017,25,50),lin(.017,.01,50,73),lin(.01,.005,73,164),lin(.005,.005,164,-1);var a=new Date(1e3*(epoch+24*(60*(60*day)))).getDay();return[.908,.875,1.104,1.031,1.048,1.028,1.006][a]*ans}},v=[{perc:.10185,aifr:48e-5,vax:0},{perc:.11503,aifr:.00161,vax:0},{perc:.12831,aifr:.00538,vax:0},{perc:.12339,aifr:.01788,vax:0},{perc:.12685,aifr:.06265,vax:0},{perc:.14548,aifr:.22048,vax:0},{perc:.12143,aifr:.87891,vax:0},{perc:.09044,aifr:2.81399,vax:0},{perc:.03977,aifr:10.0284,vax:0},{perc:.00746,aifr:26.3875,vax:0}],s={a:0,b:1/5,c:1/365,N:175e5,S:17499000,I:1e3,R:0,F:0,A:0,Ss:[17499000],Is:[1e3],Rs:[0],Fs:[0],dSs:[0],dIs:[0],dRs:[0],dFs:[0],P:0,H:0,D:0,Ps:[0],Hs:[0],Ds:[0],Xs:[0]},b={Ps:[0,0,0,0,0,0,0,0,0,0,0,1,1,3,5,4,10],Hs:[0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,1,3,5,7,12,4,12,15,23],Ds:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,0,3,3,7,4],Rts:[1.73556,1.92938,1.87953,2.02735,1.99951,1.91549,2.13945,2.23684,2.19142,2.2213,2.26765]};function calcIFR(){return .0105*r.death()}function calcIHR(){return r.hosp()}function calcR(){var d=2.5;if(day+1<b.Rts.length)d=b.Rts[day];else{d*=r.season(),d*=r.scare();for(const[b,c]of Object.entries(a))d*=siMe(a[b]);for(const[a,b]of Object.entries(c))d*=siMe(c[a])}return d*(dev?1:randBetween(.9,1.1))}function calcCOV(){s.a=calcR()*s.b;var a=s.R*s.c,c=s.a*s.S*s.I/s.N,d=s.b*s.I*(1-calcIFR()),e=s.b*s.I*calcIFR(),f=s.b*s.I;s.dSs.push(a),s.dIs.push(c),s.dRs.push(d),s.dFs.push(e),s.S+=a-c,s.I+=c-d-e,s.R+=d-a,s.F+=e,s.A+=f,s.Ss.push(s.S),s.Is.push(s.I),s.Rs.push(s.R),s.Fs.push(s.F),s.P=day<b.Ps.length?b.Ps[day]:Math.round(s.dIs[day-7]*r.test()*r.testday()*randBetween(.85,1.15));s.H=day<b.Hs.length?b.Hs[day]:Math.round(s.dIs[day-7]*calcIHR()*randBetween(.8,1.2));s.D=day<b.Ds.length?b.Ds[day]:Math.round(s.dFs[day-7]*r.underdeath()*randBetween(.8,1.2));s.Ps.push(s.P),s.Hs.push(s.H),s.Ds.push(s.D)}var maxIndex=0,stringency=0;for(const[b,c]of Object.entries(a))"curfew"!=b&&(maxIndex+=c[4]);function getIndex(){var b=0;for(const[c,d]of Object.entries(a))"curfew"!=c&&(b+=d[4]);for(const[c,d]of Object.entries(a))stringency+=d[4]*d[5]/b/(day-13);console.log(stringency)}function addData(a,b,c){a.data.labels.push(b),a.data.datasets.forEach(a=>{a.data.push(c)}),a.update()}function removeData(a){a.data.labels.pop(),a.data.datasets.forEach(a=>{a.data.pop()}),a.update()}const options={maintainAspectRatio:!1,responsive:!0,plugins:{legend:!1,tooltip:!1},animation:{duration:0},elements:{point:{radius:0},line:{tension:.25}},scales:{y:{min:0,suggestedMax:10,type:"linear",grace:"0%",ticks:{precision:0,beginAtZero:!0,color:"gray",callback:function(a){return a.toString()}}},x:{ticks:{display:!1,color:"gray",autoSkip:!0,maxTicksLimit:12}}}};var testctx=document.getElementById("testChart").getContext("2d"),testData={datasets:[{data:[0],backgroundColor:"rgba(255, 99, 132, 0.8)",borderColor:"rgb(255, 99, 132)",fill:!0}],labels:["27 feb."]},testChart=new Chart(testctx,{type:"line",data:testData,options:options}),hospctx=document.getElementById("hospChart").getContext("2d"),hospData={datasets:[{data:[0],backgroundColor:"rgba(85, 145, 242, 0.8)",borderColor:"rgb(85, 145, 242)",fill:!0}],labels:["27 feb."]},hospChart=new Chart(hospctx,{type:"line",data:hospData,options:options}),deadctx=document.getElementById("deadChart").getContext("2d"),deadData={datasets:[{data:[0],backgroundColor:"rgba(255, 203, 99, 0.8)",borderColor:"rgb(255, 203, 99)",fill:!0}],labels:["27 feb."]},deadChart=new Chart(deadctx,{type:"line",data:deadData,options:options});var chos={45:["Je bent live in een tv-programma over het oprukkende coronavirus, als een assistent je een briefje doorschuift. De eerste Nederlandse coronapati\xEBnt blijkt zojuist in het ziekenhuis te zijn opgenomen. Als minister is het vanaf nu jouw taak om de uitbraak onder controle te krijgen.",{Aanpassen:"delActions();","Niet aanpassen":"delActions();"}]},cho="",chobtns={};function getChoices(){day in chos?(cho=chos[day][0],chobtns=chos[day][1]):(cho="",chobtns={})}var outlets={nos:"NOS",rtl:"RTL",nu:"NU.nl",volkskrant:"Volkskrant",telegraaf:"Telegraaf",nrc:"NRC",trouw:"Trouw",ad:"AD",parool:"Parool",metro:"Metro",bnr:"BNR","1v":"EenVandaag",hvnl:"Hart van Nederland",reuters:"Reuters",ap:"Associated Press",bbc:"BBC",nyt:"New York Times",wsj:"Wall Street Journal",cnn:"CNN"},pairs=[["nos","rtl"],["nu","ad"],["volkskrant","telegraaf"],["nrc","trouw","parool"],["metro","bnr"],["1v","hvnl"],["bbc","cnn"],["nyt","wsj"],["reuters","ap"]];for(const a in pairs)pairs[a]=pairs[a].map(a=>({value:a,sort:Math.random()})).sort((c,a)=>c.sort-a.sort).map(({value:a})=>a);var nws={11:[[0,"Eerste Nederlander met coronavirus opgenomen in Tilburg, `man vierde carnaval'"],[0,"RIVM: eerste coronageval in Nederland, man kwam uit risicogebied Itali\xEB"],[1,"Eerste besmetting coronavirus in Nederland: pati\xEBnt (56) in Tilburg ge\xEFsoleerd"],[1,"Ondernemer uit Loon op Zand is eerste coronapati\xEBnt in het ziekenhuis"]],14:[[2,"Viroloog over verslaggeving coronavirus: `Overdrijven we niet een beetje?'"],[2,"Volgens het RIVM nog geen reden tot zorgen: `Nederland het best voorbereid'"],[3,"Zijn we voorbereid op een epidemie? `Kabinet moet niet bang zijn om in te grijpen'"],[3,"`Het verleden leert ons: maatregelen tegen een epidemie komen eigenlijk altijd te laat'"]],18:[[1,"Eerste overleden coronapati\xEBnt (86) uit Oud-Beijerland `was ontzettend lieve man'"],[1,"Eerste Nederlander (86) aan corona&shy;virus overleden in Rotterdams ziekenhuis"],[2,"Eerste corona-dode in Nederland, man (86) had al gezondheids&shy;problemen"]],21:[["g('lockdown')",[[1,"Nederland volledig op slot: alleen huis uit als het echt nodig is, vermijd grote groepen"],[0,"Kabinet kiest voor harde lockdown: alleen je huis nog uit als het echt nodig is"]]],["measureCount(2)",[[0,"Kabinet in persconferentie: $announced"],[1,"Maatregelen tegen corona: $announced"]]],["true",[[3,"Afgelopen week $lastweekpos besmettingen: druk op kabinet om maatregelen te nemen groeit"],[3,"Kabinet neemt vooralsnog geen landelijke maatregelen, is dat wel verantwoord?"],[3,"Steeds meer corona&shy;besmettingen: `De politiek moet nu echt durven in te grijpen'"]]]],29:[["g('lockdown')",[[5,"Meerderheid steunt corona&shy;maatregelen, maar lockdown is controversieel"]]],["!measureCount(5)",[[5,"Weinig vertrouwen in minister $lname, meerderheid wil meer maatregelen"]]],["g('curfew')",[[5,"Meerderheid steunt corona&shy;maatregelen, maar avondklok is controversieel"]]],["g('masks')",[[5,"Grote meerderheid steunt corona&shy;maatregelen, mondkapjes wel impopulair"]]],["true",[[5,"Veel vertrouwen in minster $lname \xE9n de maatregelen tegen het coronavirus"]]]],32:[[0,"`Hoopvolle en alarmerende speech van koning schudt Nederlanders wakker'"],[0,"Koning in zeldzame toespraak: `Corona&shy;virus niet te stoppen, eenzaamheidsvirus wel'"],[1,"Miljoenen zien toespraak van de koning: `We moeten hier samen doorheen'"]]},lastNews=-1;function getNews(){if(day in nws){if(0==nws[day][0][0]%1)return rI=randInt(0,nws[day].length-1),pairs[nws[day][rI][0]].push(pairs[nws[day][rI][0]].shift()),source=pairs[nws[day][rI][0]][0],title=vars(nws[day][rI][1]),void(lastNews=day);for(var i=0;i<nws[day].length;i++)if(eval(nws[day][i][0]))return rI=randInt(0,nws[day][i][1].length-1),pairs[nws[day][i][1][rI][0]].push(pairs[nws[day][i][1][rI][0]].shift()),source=pairs[nws[day][i][1][rI][0]][0],title=vars(nws[day][i][1][rI][1]),void(lastNews=day)}}function measureCount(b){for(const[c,d]of Object.entries(a))if(0<d[0]&&b--,0==b)return!0}var prio={edlow:"kinderen blijven thuis",curfew:"avondklok ingevoerd",shops:"niet-essenti\xEBle winkels dicht",horeca:"alle horeca dicht",border:"grenzen gesloten",edmid:"middelbare scholen dicht",events:"evenementen verboden",eduni:"hoger onderwijs dicht",socdis:"afstand van elkaar houden",workhome:"vaker thuiswerken",theater:"cultuursector dicht",clubs:"nachtclubs dicht",gather:"bijeenkomsten verboden",masks:"een mondkapje dragen"};function announce(){var a=[];if(g("shops")&&g("horeca")&&measureCount(3)){var b="";for(const[a,c]of Object.entries(prio))if(g(a)&&"shops"!=a&&"horeca"!=a){b=c;break}c=b+", horeca en winkels gesloten"}else{for(const[b,c]of Object.entries(prio)){if(2==a.length)break;g(b)&&a.push(c)}var c=a[1]+" en "+a[0]}return 2==(c.match(/dicht/g)||[]).length&&(c=c.replace("dicht","")),c}function vars(b){return b=b.replace("$lname",lname),b=b.replace("$lastweekpos",s.Ps[day]+s.Ps[day-1]+s.Ps[day-2]+s.Ps[day-3]+s.Ps[day-4]+s.Ps[day-5]+s.Ps[day-6]),b=b.replace("$totalpos",s.Ps.reduce((b,c)=>b+c,0)),b=b.replace("$announced",announce()),b=b.replace("`","\u2018"),b=b.replace("'","\u2019"),b}!function(a){var b,c,d,i=navigator.appVersion,n=navigator.userAgent,k=navigator.appName,r=parseInt(navigator.appVersion,10);-1!=(c=n.indexOf("Opera"))&&(k="Opera",version=n.substring(c+6),-1!=(c=n.indexOf("Version"))&&(version=n.substring(c+8))),-1==(c=n.indexOf("OPR"))?-1==(c=n.indexOf("Edge"))?-1==(c=n.indexOf("Edg"))?-1==(c=n.indexOf("MSIE"))?-1==(c=n.indexOf("Chrome"))?-1==(c=n.indexOf("Safari"))?-1==(c=n.indexOf("Firefox"))?-1==n.indexOf("Trident/")?(b=n.lastIndexOf(" ")+1)<(c=n.lastIndexOf("/"))&&(k=n.substring(b,c),version=n.substring(c+1),k.toLowerCase()==k.toUpperCase()&&(k=navigator.appName)):(k="Microsoft Internet Explorer",version=n.substring(n.indexOf("rv:")+3)):(k="Firefox",version=n.substring(c+8)):(k="Safari",version=n.substring(c+7),-1!=(c=n.indexOf("Version"))&&(version=n.substring(c+8))):(k="Chrome",version=n.substring(c+7)):(k="Microsoft Internet Explorer",version=n.substring(c+5)):(k="Microsoft Edge",version=n.substring(c+4)):(k="Microsoft Legacy Edge",version=n.substring(c+5)):(k="Opera",version=n.substring(c+4)),-1!=(d=version.indexOf(";"))&&(version=version.substring(0,d)),-1!=(d=version.indexOf(" "))&&(version=version.substring(0,d)),-1!=(d=version.indexOf(")"))&&(version=version.substring(0,d)),r=parseInt(""+version,10),isNaN(r)&&(version=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10));var u=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(i),m="-",v=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Android",r:/Android/},{s:"Chrome OS",r:/CrOS/},{s:"Linux",r:/(Linux|X11(?!.*CrOS))/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(Mac OS|MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"UNIX",r:/UNIX/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var p in v){var q=v[p];if(q.r.test(n)){m=q.s;break}}var s="-";switch(/Windows/.test(m)&&(s=/Windows (.*)/.exec(m)[1],m="Windows"),m){case"Mac OS":case"Mac OS X":case"Android":s=/(?:Android|Mac OS|Mac OS X|MacPPC|MacIntel|Mac_PowerPC|Macintosh) ([\.\_\d]+)/.exec(n)[1];break;case"iOS":s=(s=/OS (\d+)_(\d+)_?(\d+)?/.exec(i))[1]+"."+s[2]+"."+(0|s[3]);}a.jscd={browser:k,browserv:r,mobile:u,os:m,osv:s}}(this);var id="id"+Math.random().toString(16).slice(2),url=new URL(window.location.href),cid=url.searchParams.get("id");null!=cid&&(id="cd"+cid+id.substr(2+cid.length,100));var screenwidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,pst=["`id=${id}&os=${jscd.os}&osv=${jscd.osv}&browser=${jscd.browser}&browserv=${jscd.browserv}&width=${screenwidth}&visit=${visitTime}`","`id=${id}&start=${startTime}`","`id=${id}&start=${startTime}&end=${endTime}&deaths=${Math.round(s.F)}`"],startTime=0,visitTimeL=+new Date,visitTime=Math.floor(new Date/1e3);setTimeout(()=>{post(0)},5e3);const epoch=1581894e3;var cont=!0,day=-1,platform=navigator.userAgent,ldays=["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],wdays=["zo","ma.","di.","wo.","do.","vr.","za."],mos=["err","januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],currentPinned=0,speeds=[0,3e3,1500,750],speed=0,counter=2*speeds[3]/3,w=4,d=27,m=2,y=2020,lname="De Jonge",beta=null!=url.searchParams.get("beta"),aname=url.searchParams.get("name"),dev=null!=url.searchParams.get("dev"),started=!1,gameOver=!1;dev?(speeds[3]=100,start()):(beta||null!=cid)&&null==aname?show("start","head"):beta||null!=cid?(lname=aname,start()):show("wip");function checkStart(){lname=q("lname").value.replace(/[\[\]0-9\(\)\.,?!=+<>/\\\n%_@#$€^&*]/gi,""),lname=lname.charAt(0).toUpperCase()+lname.slice(1);var a=q("starttxt");""==lname.replace(/ /g,"")?(a.innerText="Kies eerst een achternaam.",setTimeout(()=>{a.innerHTML="Voor we beginnen, hoe mogen we je noemen?"},4e3)):25<lname.length?(a.innerText="Kies een kortere achternaam.",setTimeout(()=>{a.innerHTML="Voor we beginnen, hoe mogen we je noemen?"},4e3)):start()}function start(){startTime=Math.floor(new Date/1e3),show("head","timechoice","col1","col2","news"),hide("start","disclaimermob","wip"),newsSize(),started=!0;var a=5e3-new Date+visitTimeL+1e3;setTimeout(()=>{post(1)},0<a?a:0)}function end(){pause(),gameOver=!0;var a=Math.abs((s.R/s.N-.047)/.047),b=(Math.round(1e3*(s.R/s.N))/10).toLocaleString("nl-NL",{minimumFractionDigits:0});var c=(100*Math.round(s.F/100)).toLocaleString("nl-NL",{minimumFractionDigits:0});if(.1<a){var d=.5<a?"veel ":"iets ",e=.047<s.R/s.N?"meer":"minder",f=.047>s.R/s.N?"gelukkig":"helaas";q("results").innerHTML=`Dan: hoe heb je het eigenlijk gedaan? In jouw simulatie werd in vier maanden tijd <strong>${b}% van de bevolking</strong> besmet. Dat zijn <strong>${d}${e} mensen</strong> dan de 4,7% die in het echt besmet raakten. Hierdoor vielen er ${f} ook ${e} doden te betreuren in jouw simulatie, in totaal zo'n <strong>${c} mensen</strong>.`}else q("results").innerHTML=`Dan: hoe heb je het eigenlijk gedaan? In jouw simulatie werd in vier maanden tijd <strong>${b}% van de bevolking</strong> besmet. Dat zijn <strong>ongeveer evenveel mensen</strong> als de 4,7% die in het echt besmet raakten. Hierdoor vielen er helaas ook een vergelijkbaar aantal doden te betreuren in jouw simulatie, in totaal zo'n <strong>${c} mensen</strong>.`;getIndex(),setTimeout(()=>{hide("timechoice","col1","col2","news"),show("gameover"),endTime=Math.floor(new Date/1e3),post(2)},dev?0:1500)}function startTimer(){startedAt=Date.now(),requestAnimationFrame(timer)}function timer(){if(0!=speed){let a=(Date.now()-startedAt)/speeds[speed];1<=a&&update(),0<a&&1>a?requestAnimationFrame(timer):startTimer()}}function update(){if(day++,day==dateToInt(2020,7,1))return void end();12==day&&q("btn-socdis").classList.add("nudge");for(const[b,c]of Object.entries(a))g(b)&&a[b][5]++;var b=intToDate(day);q("date").innerHTML=b[2]+" "+mos[b[1]]+" "+b[0],setChoices(),checkBtn(),updateStats(),setNews()}function restart(){window.location.href+=window.location.href.includes("&name")?"":window.location.href.includes("?")?"&name="+lname:"?name="+lname}function act(b,c){a[b][0]=c}function choose(a,b){c[a][0]=b}var title="",source="",snws=[];function setNews(){if(title="",source="",getNews(),11==day){var b=q("firstnews");b.innerHTML="<img draggable=\"false\" class=\"logo\" src=\"img/"+source+".jpg\" width=\"16\" height=\"16\" alt=\""+outlets[source]+" logo\"><p class=\"app\">"+outlets[source]+" \xB7 do. 27 februari</p><p class=\"newstitle\">"+title+"</p>";var b=q("content");b.innerHTML="<img draggable=\"false\" src=\"img/"+source+".jpg\" width=\"16\" height=\"16\" alt=\""+outlets[source]+" logo\"><p class=\"app\">"+outlets[source]+" \xB7 <span class=\"big\">do. </span>27 februari</p><a id=\"totop\" onclick=\"updatePinned(snws.length-1);\" style=\"opacity: 0;\">+1</a><p class=\"newstitle\">"+title+"</p>",snws=[[source,"-1",title]]}else if(""!=title){var c=intToDate(day),b=document.createElement("div");b.setAttribute("class","box desk"),b.innerHTML+="<img class=\"logo\" draggable=\"false\" src=\"img/"+source+".jpg\" width=\"16\" height=\"16\" alt=\""+outlets[source]+" logo\">",b.innerHTML+="<p class=\"app\">"+outlets[source]+" \xB7 "+wdays[c[3]]+" "+c[2]+" "+mos[c[1]]+"</p>",b.innerHTML+="<p class='newstitle'>"+title+"</p>";var a=q("pinned");a.parentNode.insertBefore(b,a.nextSibling);var d=snws.length-currentPinned;q("totop").innerHTML="+"+d,currentPinned==snws.length-1?(snws.push([source,day,title]),updatePinned(snws.length-1)):snws.push([source,day,title])}}var paused=!1;function updateStats(){calcCOV(),addData(testChart,day,s.P),q("testCount").innerText=s.P,addData(hospChart,day,s.H),q("hospCount").innerText=s.H,addData(deadChart,day,s.D),q("deadCount").innerText=s.D}function pause(){preSpeed=speed,setSpeed(0),q("s1").classList="btn paused",q("s2").classList="btn paused",q("s3").classList="btn paused",q("col1").classList.add("freeze"),q("col2").classList.add("freeze"),paused=!0}function unpause(){q("s1").classList.remove("paused"),q("s2").classList.remove("paused"),q("s3").classList.remove("paused"),q("col1").classList.remove("freeze"),q("col2").classList.remove("freeze"),paused=!1,setSpeed(preSpeed)}function setChoices(){if(getChoices(),""!=cho){var a="";a+="<p>"+cho+"</p>";for(const[b,c]of Object.entries(chobtns))a+="<a class='btn txt' onclick='"+c+"'>"+b+"</a>";q("choice").innerHTML=a,q("main").classList="withchoice",q("choice").classList.remove("remchoice"),show("choice"),pause()}}function delActions(){q("choice").classList.add("remchoice"),setTimeout(()=>{hide("choice"),q("main").classList="wochoice",unpause()},400)}function updatePinned(b){if(!(b>=snws.length||0>b)){var c=q("content"),d=intToDate(snws[b][1]);c.children[0].setAttribute("src","img/"+snws[b][0]+".jpg"),c.children[1].innerHTML=outlets[snws[b][0]]+" \xB7 <span class=\"big\">"+wdays[d[3]]+" </span>"+d[2]+" "+mos[d[1]],c.children[3].innerHTML=snws[b][2],currentPinned=b;var a=snws.length-currentPinned-1;q("totop").innerHTML="+"+a,currentPinned==snws.length-1?(q("up").classList="inactive",q("down").classList="active",q("totop").style="opacity: 0;"):0==currentPinned?(q("up").classList="active",q("down").classList="inactive",q("totop").style="opacity: 1;"):(q("up").classList="active",q("down").classList="active",q("totop").style="opacity: 1;")}}var toggled=!1;function toggleStat(a){var b=["test","hosp","dead"];b.includes(a)&&(toggled=!0,removeItem(b,a),show(a+"Cnt"),hide(b[0]+"Cnt",b[1]+"Cnt"),q(a+"Btn").classList.add("statbtnactive"),q(b[0]+"Btn").classList.remove("statbtnactive"),q(b[1]+"Btn").classList.remove("statbtnactive"))}var FAQ=!1,preSpeed=0;function toggleFAQ(){(beta||dev)&&(!paused||gameOver)&&(FAQ&&!gameOver&&started?(window.scrollTo(0,0),show("timechoice","col1","col2","news"),hide("faq"),q("knowmore").innerHTML="Meer weten?",FAQ=!1,setSpeed(preSpeed)):FAQ&&!started?(window.scrollTo(0,0),show("disclaimermob","start"),hide("faq"),q("knowmore").innerHTML="Meer weten?",FAQ=!1):FAQ&&gameover?(window.scrollTo(0,0),hide("faq"),show("gameover"),FAQ=!1):(window.scrollTo(0,0),hide("disclaimermob","gameover","timechoice","col1","col2","news","start"),show("faq"),q("knowmore").innerHTML="Terug naar spel.",FAQ=!0,preSpeed=speed,setSpeed(0)))}var toggles=[],unfreeze={},freeze={},lock=["eduni","shops","horeca","clubs","gather","theater","events","workhome","socdis"];function toggleBtn(a){if(!paused)if(q("btn-socdis").classList.contains("nudge")&&q("btn-socdis").classList.remove("nudge"),toggles.includes(a)?removeItem(toggles,a):toggles.push(a),(q("btn-"+a).classList.contains("txtsel")?(q("btn-"+a).classList="btn txt",q("btn-lockdown").classList.contains("txtsel")&&lock.includes(a)?(q("btn-lockdown").classList="btn txt",toggles.includes("lockdown")?removeItem(toggles,"lockdown"):toggles.push("lockdown")):q("btn-curfew").classList.contains("txtsel")&&"clubs"==a&&(q("btn-curfew").classList="btn txt",toggles.includes("curfew")?removeItem(toggles,"curfew"):toggles.push("curfew"))):(q("btn-"+a).classList="btn txt txtsel","lockdown"==a&&q("btn-curfew").classList.contains("txtsel")?(q("btn-curfew").classList="btn txt",toggles.includes("curfew")?removeItem(toggles,"curfew"):toggles.push("curfew")):"curfew"==a&&q("btn-lockdown").classList.contains("txtsel")&&(q("btn-lockdown").classList="btn txt",toggles.includes("lockdown")?removeItem(toggles,"lockdown"):toggles.push("lockdown"))),"lockdown"==a))for(var b=0;b<lock.length;b++)q("btn-"+lock[b]).classList.contains("txtsel")||toggleBtn(lock[b]);else"curfew"==a&&(q("btn-clubs").classList.contains("txtsel")||toggleBtn("clubs"))}function checkBtn(){for(var i=0;i<toggles.length;i++){var btn=toggles[i],abtn=eval("a."+btn),delay=abtn[3];0>=abtn[0]?(act(btn,day),day in freeze?freeze[day].push(btn):freeze[day]=[btn],day+delay in unfreeze?unfreeze[day+delay].push(btn):unfreeze[day+delay]=[btn]):(act(btn,-day),day in freeze?freeze[day].push(btn):freeze[day]=[btn],day+delay in unfreeze?unfreeze[day+delay].push(btn):unfreeze[day+delay]=[btn])}if(toggles=[],day in freeze)for(var i=0;i<freeze[day].length;i++)q("btn-"+freeze[day][i]).classList.add("paused"),q("btn-"+freeze[day][i]).classList.remove("nudge"),q("btn-"+freeze[day][i]).removeAttribute("onclick");if(day in unfreeze)for(var i=0;i<unfreeze[day].length;i++)q("btn-"+unfreeze[day][i]).classList.remove("paused"),q("btn-"+unfreeze[day][i]).setAttribute("onclick","toggleBtn('"+unfreeze[day][i]+"');")}function dateToInt(a,b,c){var d=new Date(a,b-1,c).getTime()/1e3-epoch,d=d/24/60/60;return Math.round(d)}function intToDate(a){return t=epoch+24*(60*(60*a)),date=new Date(1e3*t),w=date.getDay(),d=date.getDate(),m=date.getMonth()+1,y=date.getYear()+1900,[y,m,d,w]}var sped=!1;function setSpeed(a){speed==a||paused||gameOver||(sped=!0,0<speed&&(preSpeed=speed),q("s"+speed).setAttribute("class","btn"),q("s"+a).setAttribute("class","btn tsel"),0==speed&&0<a?(q("s1").classList.remove("nudge"),speed=a,startTimer()):speed=a)}var lightmode=!0;function colorSwitch(){q(lightmode?"light":"dark").classList.add("notrans"),document.documentElement.style.overflow="hidden",document.body.clientWidth,document.documentElement.setAttribute("data-color-scheme",lightmode?"dark":"light"),document.documentElement.style.overflow="",lightmode?(q("light").setAttribute("id","dark"),q("colormode").getElementsByTagName("i")[0].setAttribute("class","fas fa-sun"),lightmode=!1):(q("dark").setAttribute("id","light"),q("colormode").getElementsByTagName("i")[0].setAttribute("class","fas fa-moon"),lightmode=!0),q(lightmode?"light":"dark").offsetHeight,q(lightmode?"light":"dark").classList.remove("notrans")}function removeItem(a,b){var c=a.indexOf(b);return-1<c&&a.splice(c,1),a}function randBetween(a,b){return Math.random()*(b-a)+a}function randInt(a,b){return Math.floor(Math.random()*(b-a+1)+a)}function q(a){return document.getElementById(a)}function show(){for(j=0;j<arguments.length;j++)q(arguments[j]).classList.remove("hide")}function hide(){for(j=0;j<arguments.length;j++)q(arguments[j]).classList.add("hide")}function post(i){if(!dev){var xml=new XMLHttpRequest;xml.open("POST","https://nieuwindekamer.nl/bdh/data.php",!0),xml.setRequestHeader("Content-type","application/x-www-form-urlencoded"),xml.send(eval(pst[i]))}}window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&colorSwitch(),q("lname").addEventListener("keydown",function(a){"Enter"==a.key&&checkStart()}),document.addEventListener("keypress",function(a){" "==a.key&&0==speed?setSpeed(preSpeed):" "==a.key&&0<speed?setSpeed(0):0<a.key&&5>a.key&&started&&setSpeed(a.key-1)}),dev||(window.onbeforeunload=()=>{if(!gameOver&&started)return""});function newsSize(){if(q("col1").offsetHeight==q("col2").offsetHeight){var a=Math.round(q("stats").getBoundingClientRect().bottom),b=Math.round(q("news").getBoundingClientRect().top),c=document.documentElement.clientHeight;q("news").setAttribute("style","max-height: "+(c-b-10)+"px;"),q("scroll").setAttribute("style","max-height: "+(c-a-10)+"px;")}else{var d=q("timechoice").offsetHeight,e=q("stats").offsetHeight+10;d+=q("col1").offsetHeight,d+=q("col2").offsetHeight,q("news").setAttribute("style","max-height: "+d+"px;"),q("scroll").setAttribute("style","max-height: "+(d-e)+"px;")}}window.addEventListener("resize",function(){newsSize()},!0);for(var i=day;11>i;i++)day++,10>day?calcCOV():updateStats();var aa=intToDate(day);q("date").innerHTML=aa[2]+" "+mos[aa[1]]+" "+aa[0],setChoices(),setNews(),console.log("%cBeter dan Hugo","background:#212529;color:#ebebeb;font-size:2.5em;font-family:sans-serif;font-weight:900;padding:20px;border-radius:10px;"),console.log("https://github.com/coretteket/beterdanhugo");